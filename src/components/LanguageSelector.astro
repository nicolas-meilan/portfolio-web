---
import i18next from 'i18next';

import { defaultLanguage, ignoreLanguages } from '../languages';
import Pill from './Pill.astro';

// Works only for 2 languages
const currentLanguage = i18next.language;

const langToRedirect = i18next.languages.find((lang) => (
  ![currentLanguage, ...ignoreLanguages].includes(lang))
) || defaultLanguage;
---

<Pill href={`${import.meta.env.BASE_URL}/${langToRedirect}`} class="opacity-80 transition dark:hover:text-yellow-400 hover:text-yellow-500 hover:bg-transparent hover:opacity-100">
  {i18next.t('header.languageSwitcher')}
</Pill>
